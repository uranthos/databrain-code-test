{"ast":null,"code":"import { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class paygService {\n  constructor(_http, baseUrl) {\n    this._http = _http;\n    this.commonUrl = 'api/payg/';\n    this.commonUrl = baseUrl + this.commonUrl;\n  }\n  handleError(error) {\n    //just logging error to console - some server logging could be added\n    console.error(error);\n    return throwError(() => error || 'Server error');\n  }\n  getTax(model) {\n    const completeUrl = this.commonUrl;\n    return this._http.post(completeUrl, model).pipe(catchError(this.handleError));\n  }\n}\npaygService.ɵfac = function paygService_Factory(t) {\n  return new (t || paygService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject('BASE_URL'));\n};\npaygService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: paygService,\n  factory: paygService.ɵfac\n});","map":{"version":3,"mappings":"AAAA,SAASA,UAAwB,QAAwC,MAAM;AAM/E,SAASC,UAAU,QAAQ,gBAAgB;;;AAG3C,OAAM,MAAOC,WAAW;EAGtBC,YACUC,KAAiB,EACLC,OAAe;IAD3B,UAAK,GAALD,KAAK;IAHP,cAAS,GAAW,WAAW;IAMrC,IAAI,CAACE,SAAS,GAAGD,OAAO,GAAG,IAAI,CAACC,SAAS;EAC3C;EAEOC,WAAW,CAACC,KAAwB;IACzC;IACAC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,OAAOR,UAAU,CAAC,MAAMQ,KAAK,IAAI,cAAc,CAAC;EAClD;EAEAE,MAAM,CAACC,KAA0B;IAC/B,MAAMC,WAAW,GAAW,IAAI,CAACN,SAAS;IAC1C,OAAO,IAAI,CAACF,KAAK,CACdS,IAAI,CAASD,WAAW,EAACD,KAAK,CAAC,CAACG,IAAI,CACnCb,UAAU,CAAC,IAAI,CAACM,WAAW,CAAC,CAAC;EACnC;;AArBWL,WAAW;mBAAXA,WAAW,0CAKZ,UAAU;AAAA;AALTA,WAAW;SAAXA,WAAW;EAAAa,SAAXb,WAAW;AAAA","names":["throwError","catchError","paygService","constructor","_http","baseUrl","commonUrl","handleError","error","console","getTax","model","completeUrl","post","pipe","factory"],"sourceRoot":"","sources":["G:\\databrain-demo\\databrain-code-test\\Web\\ClientApp\\src\\app\\payg-calculator\\services\\payg-service.ts"],"sourcesContent":["import { throwError as throwError, of as observableOf, Observable } from 'rxjs';\r\nimport { Inject } from '@angular/core';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { PAYGSubmissionModel } from '../models/payg-submission-model';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class paygService {\r\n  private commonUrl: string = 'api/payg/';\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    @Inject('BASE_URL') baseUrl: string\r\n  ) {\r\n    this.commonUrl = baseUrl + this.commonUrl;\r\n  }\r\n\r\n  public handleError(error: HttpErrorResponse) {\r\n    //just logging error to console - some server logging could be added\r\n    console.error(error);\r\n    return throwError(() => error || 'Server error');  \r\n  }\r\n\r\n  getTax(model: PAYGSubmissionModel): Observable<number> {\r\n    const completeUrl: string = this.commonUrl;\r\n    return this._http\r\n      .post<number>(completeUrl,model).pipe(\r\n        catchError(this.handleError));\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}